

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="bootstrap.css">
</head>
<body>

    <h4 class="text-center">Please fill the form</h4>
    <form id="myform" name="myform" class="">

        
        <div>
            <div class="row">
                <div class="col-12">
                    <div class="row">
                        <div class="col-4"></div>
                        <div class="col-4 ">
                            <label>Name</label>
                            <input name="firstname" class="form-control"/><span id="uSmall"></span>
                            <!-- <input name="firstname" class="form-control col-6"/><span id="uSmall"></span> -->
                            <p class="display">Name must be between 5-15 </p>
                        </div>
                        <div class="col-4"></div>
                    </div>
                </div>
                <div class="col-12">
                    <div class="row">
                        <div class="col-4"></div>
                        <div class="col-4 ">
                            <label>Username</label>
                            <input name="uname" class="form-control"/><span id="nSmall"></span>
                            <!-- <input name="firstname" class="form-control col-6"/><span id="uSmall"></span> -->
                            <p class="display">Username must be between 5-15 </p>
                        </div>
                        <div class="col-4"></div>
                    </div>
                </div>
                <div class="col-12">
                    <div class="row">
                        <div class="col-4"></div>
                        <div class="col-4">
                            <label>password</label>
                            <input name="pass" type="password" class="form-control"/><small id="pSmall"></small>
                            <p class="display">password must be between 8-20 </p>
                        </div>
                        <div class="col-4"></div>
                    </div>
                </div>
                <div class="col-12">
                    <div class="row">
                        <div class="col-4"></div>
                        <div class="col-4">
                            <label>email</label>
                            <input name="email" class="form-control"><small id="eSmall"></small>
                            <p class="display">ex. example@gmail.com </p>
                        </div>
                        <div class="col-4"></div>
                    </div>
                </div>
                <div class="col-12">
                    <div class="row">
                        <div class="col-4"></div>
                        <div class="col-4">
                            <label>mobile</label>
                            <input name="mobile" class="form-control"/><small id="small"></small>
                            <p class="display">mobile must be 10digit </p>
                        </div>
                        <div class="col-4"></div>
                    </div>
                </div>
                <div class="col-12">
                    <div class="row">
                        <div class="col-4"></div>
                        <div class="col-4 ">
                            <label>Desciption</label>
                            <input name="des" class="form-control"/><span id="dSmall"></span>
                            <!-- <input name="firstname" class="form-control col-6"/><span id="uSmall"></span> -->
                            <p class="display">desciption must be between 10-30</p>
                        </div>
                        <div class="col-4"></div>
                    </div>
                </div>
                <div class="col-12">
                    <div class="row">
                        <div class="col-4"></div>
                        <div class="col-4">
                            <input type="submit" class="form-control btn-primary">
                        </div>
                        <div class="col-4"></div>
                    </div>
                </div>
            </div>
        </div>
    </form>
</body>
<!-- <script src="bootstrap.js"></script> -->
<script>
    
    validate()
    var temp;
    
    
    var frm = document.getElementById("myform")


    frm.addEventListener("submit",function(e){
        e.preventDefault();
        // if(validate()){
        //     console.log(temp)
        //     document.myform.mobile.value
        // }else{
        //     alert("please fill again")
        // }
        var obj={}
        obj.name = document.myform.firstname.value
        obj.email = document.myform.email.value
        obj.mobile = document.myform.mobile.value
        obj.description = document.myform.des.value
        obj.username = document.myform.uname.value
        obj.password = document.myform.pass.value
        console.log(obj)

    var x= new XMLHttpRequest()
    console.log(x)
    
    var url ="http://localhost:8080/auth/register";
    x.open("POST",url)
    x.setRequestHeader("Content-type","application/json;charset=utf-8")
    x.send(JSON.stringify(obj))
    x.onload = function(){
        if(this.status===200){
            console.log(this.response)
        var resp = JSON.parse(this.response)
        console.log(resp)
        }else{
            console.log("erroe has occured please try again")
        }
        
    
    }
    
    })
    // console.log(obj)
    //     e.preventDefault();

    //     var reg = /name1/i
    //     if(reg.test(e.target[0].value)){
    //         console.log(e.target[0].value)
    //         alert("name")
            
    //     }

    // })
        // \w ==> any word Character (a-zA-Z0-9,underscore)
        // \W ==> not ==any word Character (a-zA-Z0-9,underscore)
        // \d ==> any digit([0-9]) \D not digit
        // \s ==> spaces and tab , \S ==> not spaces and tab
        // \t ==> tab only
        // [^]==> start with and $ ==> end with
        // [a-zA-Z0-9] ==> range,{range}
        // ? ==> anything before it will become optional

        // RegExp for username password email mobile


       function validate(){
        var pattern = {
            name: /^[a-z\d]{5,12}$/i,
            password:/^[\w@-]{8,15}$/i,
            mobile:/^\d{10}$/,
            email:/^([a-z\d\.-]+)@([a-z\d-]+)\.([a-z]{2,6})(\.[a-z]{2,6})?$/i,
            username: /^[a-z\d]{5,12}$/i,
            des: /^[a-z\d]{10,20}$/i
            //abc@example.com.in
        }
     
        // var form  = document.getElementById("myform")
        // form.addEventListener("submit",function(e){
        //     e.preventDefault()
            // console.log(e.target.email.value)
            // console.log(e.target[2])
            // if(pattern.mobile.test(e.target[3].value)){
            //     alert("mobile good")
            // }else{
            //     document.myform.mobile.style.backgroundColor = "green"
            // }
            // console.log(document.myform.firstname.value)
        // })
        document.myform.mobile.addEventListener("keyup",function(){
            if(pattern.mobile.test(document.myform.mobile.value)){
                document.myform.mobile.style.border = "2px solid green"
                document.getElementById("small").innerText="valid"
                document.getElementById("small").style.color="green"
                // temp = true
            }else{
                document.myform.mobile.style.border = "3px solid crimson"
                document.getElementById("small").innerText=" not valid"
                document.getElementById("small").style.color="crimson"
                // alert("mobile not ")
                // temp = false
            }
        })
        document.myform.email.addEventListener("keyup",function(){
            if(pattern.email.test(document.myform.email.value)){
                document.myform.email.style.border = "2px solid green"
                document.getElementById("eSmall").innerText="valid"
                document.getElementById("eSmall").style.color="green"
                temp = true
            }else{
                document.myform.email.style.border = "3px solid crimson"
                document.getElementById("eSmall").innerText=" not valid"
                document.getElementById("eSmall").style.color="crimson"
                // alert("mobile not ")
                // temp = false
            }
        })
        document.myform.firstname.addEventListener("keyup",function(){
            if(pattern.name.test(document.myform.firstname.value)){
                document.myform.firstname.style.border = "2px solid green"
                document.getElementById("uSmall").innerText="valid"
                document.getElementById("uSmall").style.color="green"
                // temp = true
            }else{
                document.myform.firstname.style.border = "3px solid crimson"
                document.getElementById("uSmall").innerText=" not valid"
                document.getElementById("uSmall").style.color="crimson"
                // alert("mobile not ")
                // temp = false
            }
        })
        document.myform.pass.addEventListener("keyup",function(){
            if(pattern.password.test(document.myform.pass.value)){
                document.myform.pass.style.border = "2px solid green"
                document.getElementById("pSmall").innerText="valid"
                document.getElementById("pSmall").style.color="green"
                // temp = true
            }else{
                document.myform.pass.style.border = "3px solid crimson"
                document.getElementById("pSmall").innerText=" not valid"
                document.getElementById("pSmall").style.color="crimson"
                // alert("mobile not ")
                // temp =  false
            }
        
        })
        document.myform.des.addEventListener("keyup",function(){
            if(pattern.des.test(document.myform.des.value)){
                document.myform.pass.style.border = "2px solid green"
                document.getElementById("dSmall").innerText="valid"
                document.getElementById("dSmall").style.color="green"
                // temp = true
            }else{
                document.myform.des.style.border = "3px solid crimson"
                document.getElementById("dSmall").innerText=" not valid"
                document.getElementById("dSmall").style.color="crimson"
                // alert("mobile not ")
                // temp =  false
            }
        
        })
        document.myform.uname.addEventListener("keyup",function(){
            if(pattern.username.test(document.myform.uname.value)){
                document.myform.uname.style.border = "2px solid green"
                document.getElementById("nSmall").innerText="valid"
                document.getElementById("nSmall").style.color="green"
                // temp = true
            }else{
                document.myform.uname.style.border = "3px solid crimson"
                document.getElementById("nSmall").innerText=" not valid"
                document.getElementById("nSmall").style.color="crimson"
                // alert("mobile not ")
                // temp =  false
            }
        
        })
        return temp
       }
        
        
        

            // function val(e){
            //     if(pattern.username.test(e.target[0].value)){
            //     document.myform.firstname.style.border = "green"
            // }else{
            //     alert("username is not good")
            // }
            // }


</script>