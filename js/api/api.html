
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>api</title>
</head>
<body>
    <input type="text" id="input"/>
    <button id="data">data fetch</button>
    <div id="div">
        
    </div>
</body>
<script>
    
    var btn = document.getElementById("data")
    btn.addEventListener("click",function(){
    
    var input = document.getElementById("input").value
    console.log(input)
    // fetch("url",{method})
    // fetch is a inbuilt async function
    // var x = fetch("url")
    // promise is a async process which takes time to give data but promise to
    // give to data after sometime when it gets resolved
    //so we use then to process promise further
    var x = fetch(`https://api.openweathermap.org/data/2.5/weather?q=${input}&units=metric&APPID=409dc801f22f69fa984ead1d03d12f8f`)
    .then(data => {
        return data.json()
    }).then(data2 =>{
        console.log(data2)
        // console.log(data2.name)
        // console.log(data2.main.temp)
        console.log(data2.weather[0].description)
        // console.log(data2.wind.speed)

        document.getElementById("div").innerHTML =`
    <ul>
            <li>city : ${data2.name}</li>
            <li>temp in c: ${data2.main.temp}</li>
            <li>discription : ${data2.weather[0].description}</li>
            <li>min temp- ${data2.main.temp_min}</li>
            <li>max temp- ${data2.main.temp_max}</li>
    </ul>

    `
    })
    // console.log(x)
    // .then(function(data){
    //    return data.json()//json to get data

    //     //if will get again promise after this fetch then it need more time
    //     //so add one more then to get data

    // }).then(function(data2){
    //     console.log(data2)
    //     // console.log(data2.name)
    //     // console.log(data2.main.temp)
    //     // console.log(data2.wheater[0].discription)
    // })
    


    })

</script>
</html>